{"ast":null,"code":"import React from'react';import{Button}from'../ui/button';import{ScrollArea}from'../ui/scroll-area';import{Switch}from'../ui/switch';import{Plus,MessageSquare,Sun,Moon,Settings}from'lucide-react';import{cn}from'../../lib/utils';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ConversationSidebar=_ref=>{let{conversations,activeConversationId,onSelectConversation,onNewConversation,darkMode,onToggleDarkMode,className}=_ref;const formatDate=date=>{const now=new Date();const diff=now.getTime()-date.getTime();const days=Math.floor(diff/(1000*60*60*24));if(days===0)return'Today';if(days===1)return'Yesterday';if(days<7)return\"\".concat(days,\" days ago\");return date.toLocaleDateString();};const groupedConversations=conversations.reduce((groups,conversation)=>{const dateKey=formatDate(conversation.updated_at);if(!groups[dateKey]){groups[dateKey]=[];}groups[dateKey].push(conversation);return groups;},{});return/*#__PURE__*/_jsxs(\"div\",{className:cn(\"w-64 bg-muted/30 border-r flex flex-col h-full\",className),children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b\",children:/*#__PURE__*/_jsxs(Button,{onClick:onNewConversation,className:\"w-full justify-start gap-2\",variant:\"outline\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4\"}),\"New Conversation\"]})}),/*#__PURE__*/_jsx(ScrollArea,{className:\"flex-1 px-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 py-4\",children:[Object.entries(groupedConversations).map(_ref2=>{let[dateGroup,convs]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xs font-medium text-muted-foreground px-2 mb-2\",children:dateGroup}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-1\",children:convs.map(conversation=>/*#__PURE__*/_jsx(Button,{variant:activeConversationId===conversation.id?\"secondary\":\"ghost\",className:cn(\"w-full justify-start text-left h-auto p-2\",\"hover:bg-accent/50 transition-colors\"),onClick:()=>onSelectConversation(conversation.id),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2 w-full\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"w-4 h-4 mt-0.5 shrink-0\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium truncate\",children:conversation.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-muted-foreground\",children:[conversation.messages.length,\" message\",conversation.messages.length!==1?'s':'']})]})]})},conversation.id))})]},dateGroup);}),conversations.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8 px-4\",children:[/*#__PURE__*/_jsx(MessageSquare,{className:\"w-8 h-8 mx-auto text-muted-foreground mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted-foreground\",children:\"No conversations yet. Start by asking a question!\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Sun,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Dark mode\"}),/*#__PURE__*/_jsx(Moon,{className:\"w-4 h-4\"})]}),/*#__PURE__*/_jsx(Switch,{checked:darkMode,onCheckedChange:onToggleDarkMode})]}),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",size:\"sm\",className:\"w-full justify-start gap-2\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-4 h-4\"}),\"Settings\"]})]})]});};","map":{"version":3,"names":["React","Button","ScrollArea","Switch","Plus","MessageSquare","Sun","Moon","Settings","cn","jsx","_jsx","jsxs","_jsxs","ConversationSidebar","_ref","conversations","activeConversationId","onSelectConversation","onNewConversation","darkMode","onToggleDarkMode","className","formatDate","date","now","Date","diff","getTime","days","Math","floor","concat","toLocaleDateString","groupedConversations","reduce","groups","conversation","dateKey","updated_at","push","children","onClick","variant","Object","entries","map","_ref2","dateGroup","convs","id","title","messages","length","checked","onCheckedChange","size"],"sources":["C:/Users/ashwi/OneDrive/Desktop/LightRiver UI/src/components/chat/ConversationSidebar.tsx"],"sourcesContent":["import React from 'react';\nimport { Button } from '../ui/button';\nimport { ScrollArea } from '../ui/scroll-area';\nimport { Switch } from '../ui/switch';\nimport { Conversation } from '../../types';\nimport { Plus, MessageSquare, Sun, Moon, Settings } from 'lucide-react';\nimport { cn } from '../../lib/utils';\n\ninterface ConversationSidebarProps {\n  conversations: Conversation[];\n  activeConversationId?: string;\n  onSelectConversation: (conversationId: string) => void;\n  onNewConversation: () => void;\n  darkMode: boolean;\n  onToggleDarkMode: (enabled: boolean) => void;\n  className?: string;\n}\n\nexport const ConversationSidebar: React.FC<ConversationSidebarProps> = ({\n  conversations,\n  activeConversationId,\n  onSelectConversation,\n  onNewConversation,\n  darkMode,\n  onToggleDarkMode,\n  className\n}) => {\n  const formatDate = (date: Date) => {\n    const now = new Date();\n    const diff = now.getTime() - date.getTime();\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\n    \n    if (days === 0) return 'Today';\n    if (days === 1) return 'Yesterday';\n    if (days < 7) return `${days} days ago`;\n    return date.toLocaleDateString();\n  };\n\n  const groupedConversations = conversations.reduce((groups, conversation) => {\n    const dateKey = formatDate(conversation.updated_at);\n    if (!groups[dateKey]) {\n      groups[dateKey] = [];\n    }\n    groups[dateKey].push(conversation);\n    return groups;\n  }, {} as Record<string, Conversation[]>);\n\n  return (\n    <div className={cn(\"w-64 bg-muted/30 border-r flex flex-col h-full\", className)}>\n      {/* Header */}\n      <div className=\"p-4 border-b\">\n        <Button\n          onClick={onNewConversation}\n          className=\"w-full justify-start gap-2\"\n          variant=\"outline\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          New Conversation\n        </Button>\n      </div>\n\n      {/* Conversations List */}\n      <ScrollArea className=\"flex-1 px-2\">\n        <div className=\"space-y-4 py-4\">\n          {Object.entries(groupedConversations).map(([dateGroup, convs]) => (\n            <div key={dateGroup}>\n              <h3 className=\"text-xs font-medium text-muted-foreground px-2 mb-2\">\n                {dateGroup}\n              </h3>\n              <div className=\"space-y-1\">\n                {convs.map((conversation) => (\n                  <Button\n                    key={conversation.id}\n                    variant={activeConversationId === conversation.id ? \"secondary\" : \"ghost\"}\n                    className={cn(\n                      \"w-full justify-start text-left h-auto p-2\",\n                      \"hover:bg-accent/50 transition-colors\"\n                    )}\n                    onClick={() => onSelectConversation(conversation.id)}\n                  >\n                    <div className=\"flex items-start gap-2 w-full\">\n                      <MessageSquare className=\"w-4 h-4 mt-0.5 shrink-0\" />\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium truncate\">\n                          {conversation.title}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {conversation.messages.length} message{conversation.messages.length !== 1 ? 's' : ''}\n                        </p>\n                      </div>\n                    </div>\n                  </Button>\n                ))}\n              </div>\n            </div>\n          ))}\n          \n          {conversations.length === 0 && (\n            <div className=\"text-center py-8 px-4\">\n              <MessageSquare className=\"w-8 h-8 mx-auto text-muted-foreground mb-2\" />\n              <p className=\"text-sm text-muted-foreground\">\n                No conversations yet. Start by asking a question!\n              </p>\n            </div>\n          )}\n        </div>\n      </ScrollArea>\n\n      {/* Footer */}\n      <div className=\"p-4 border-t space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <Sun className=\"w-4 h-4\" />\n            <span className=\"text-sm\">Dark mode</span>\n            <Moon className=\"w-4 h-4\" />\n          </div>\n          <Switch\n            checked={darkMode}\n            onCheckedChange={onToggleDarkMode}\n          />\n        </div>\n        \n        <Button variant=\"ghost\" size=\"sm\" className=\"w-full justify-start gap-2\">\n          <Settings className=\"w-4 h-4\" />\n          Settings\n        </Button>\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}